<Window x:Class="WindowsKontrolMerkezi.DetailChartWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Detaylı kullanım geçmişi" Height="520" Width="800" MinHeight="400" MinWidth="600"
        Background="{DynamicResource Surface}" WindowStartupLocation="CenterOwner">
  <Grid Margin="16">
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="200"/>
    </Grid.RowDefinitions>
    <TextBlock Grid.Row="0" Text="Zamana göre CPU, RAM ve disk kullanımı. Grafik üzerinde gezinen çizgiyi takip edin. Veriler canlı güncellenir." Foreground="{DynamicResource TextDim}" FontSize="12" Margin="0,0,0,12"/>
    <Border Grid.Row="1" Background="{DynamicResource Card}" BorderBrush="{DynamicResource Border}" BorderThickness="1" CornerRadius="8" Padding="12">
      <Canvas x:Name="ChartCanvas" MinHeight="200" MouseMove="ChartCanvas_OnMouseMove" MouseLeave="ChartCanvas_OnMouseLeave">
        <Border x:Name="TooltipBorder" Visibility="Collapsed" Background="{DynamicResource Card}" Padding="8,4" BorderBrush="{DynamicResource Accent}" BorderThickness="1">
          <TextBlock x:Name="TbTooltip" Foreground="{DynamicResource Text}" FontSize="12" FontFamily="Consolas"/>
        </Border>
      </Canvas>
    </Border>
    <TextBlock x:Name="TbHint" Grid.Row="2" Text="Son ölçümler (en yeni üstte)" Foreground="{DynamicResource TextDim}" FontSize="11" Margin="0,12,0,4"/>
    <Border Grid.Row="3" Background="{DynamicResource Card}" BorderBrush="{DynamicResource Border}" BorderThickness="1" CornerRadius="8">
      <DataGrid x:Name="DataGridSnapshots" AutoGenerateColumns="False" IsReadOnly="True" CanUserAddRows="False" CanUserDeleteRows="False"
                HeadersVisibility="Column" BorderThickness="0" Background="Transparent" RowBackground="{DynamicResource Card}" Foreground="{DynamicResource Text}"
                GridLinesVisibility="Horizontal" HorizontalGridLinesBrush="{DynamicResource Border}" RowHeight="28">
        <DataGrid.ColumnHeaderStyle>
          <Style TargetType="DataGridColumnHeader">
            <Setter Property="Background" Value="{DynamicResource CardAlt}"/>
            <Setter Property="Foreground" Value="{DynamicResource TextDim}"/>
            <Setter Property="Padding" Value="8"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="BorderBrush" Value="{DynamicResource Border}"/>
            <Setter Property="BorderThickness" Value="0,0,1,1"/>
          </Style>
        </DataGrid.ColumnHeaderStyle>
        <DataGrid.Columns>
          <DataGridTextColumn Header="Zaman" Binding="{Binding Time, StringFormat=\{0:HH:mm:ss\}}" Width="*" MinWidth="80"/>
          <DataGridTextColumn Header="CPU %" Binding="{Binding CpuPercent, StringFormat=F1}" Width="70"/>
          <DataGridTextColumn Header="RAM %" Binding="{Binding MemPercent, StringFormat=F1}" Width="70"/>
          <DataGridTextColumn Header="Disk %" Binding="{Binding DiskPercent, StringFormat=F1}" Width="70"/>
        </DataGrid.Columns>
      </DataGrid>
    </Border>
  </Grid>
</Window>
